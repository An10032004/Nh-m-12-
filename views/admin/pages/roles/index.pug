extends ../../layouts/default2.pug

block main
  .app-content
    if(role.permissions.includes("roles_view"))
      h1(class="mb-4") nhóm quyền 

      .card.mb-3 
        .card-header Danh sách 
        .card-body
          .row 
            .col-8 
            .col-4.text-right
              if(role.permissions.includes("roles_create"))
                a(
                  href=`/ad/roles/create`
                  class="btn btn-outline-success"
                ) + Thêm mới
          
          table(
            class="table table-hover table-sm"
          )
            thead 
              tr
                th STT 
                th nhóm quyền 
                th Mô tả ngắn 
                th Hành động 

            tbody 
              if (records.length > 0)
                each item, index in records
                  tr 
                    td #{index + 1}
                    td #{item.title}
                    td #{item.description}
                    td  
                      a(
                        class="btn btn-secondary btn-sm"
                        href=`/ad/roles/detail/${item.id}`
                      ) Chi tiết 
                        if(role.permissions.includes("roles_edit"))
                          a(
                          class="btn btn-warning btn-sm ml-1"
                          href=`/ad/roles/edit/${item.id}`
                          ) Sửa
                        if(role.permissions.includes("roles_delete"))
                          button(
                          class="btn btn-danger btn-sm ml-1"
                          ) Xóa
              else 
                tr  
                  td(colspan="4" class="text-center") chưa có nhóm quyền nào được tạo
    else 
      | You are not in permissions
  // BEGIN VENDOR JS
  script(src='/theme-assets/vendors/js/vendors.min.js' type='text/javascript')
  // BEGIN VENDOR JS
  // BEGIN PAGE VENDOR JS
  script(src='/theme-assets/vendors/js/charts/chartist.min.js' type='text/javascript')
  // END PAGE VENDOR JS
  // BEGIN CHAMELEON  JS
  script(src='/theme-assets/js/core/app-menu-lite.js' type='text/javascript')
  script(src='/theme-assets/js/core/app-lite.js' type='text/javascript')
  // END CHAMELEON  JS
  // BEGIN PAGE LEVEL JS
  script(src='/theme-assets/js/scripts/pages/dashboard-lite.js' type='text/javascript')
  // END PAGE LEVEL JS